aula 4 Modelos
rails g model Recipe name:string stuff:text calories:integer


aula 2 Criando a aplica√ß√£o
rails new receitasnet
rails -s --help


aula 3 Entendendo V e C do MVC
rake routes
rails generate controller recipes
bundle install --without production
git config --global user.name "Fabricio Mattos"
git config --global user.email "fabricio@codifike.com.br"
git init
git add .
git status
git commit -m "Commit inicial"
heroku login
heroku keys:add
heroku apps:create vantecgestiona-vandreh
git remote -v
git push heroku master
heroku run rake db:migrate
git status
git commit -m "Inserindo a rota raiz"
git push heroku master
heroku open

aula 04
rails g model
#rails generate model NAME [fild[:type][:index] field[:type][:index]] [options]
rails g model CLiente name:string stuff:text DNI:integer
rake -T
rake db:migrate
rake db:migrate:status
rails c
	CLiente
	c = CLiente.new
	c.name
	c.name= "Vandreh"
	c.stuff= "(85)997722582"
	c.NDI= "001354124"
	c.save

	c = CLiente.new(name:"Gabriela", stuff:"51 973.195.642", DNI:"41680910")
	c.save

	CLiente.create(name:"Amanda", stuff:"51 973.195.584", DNI:"00000000")

	CLiente.all
	CLiente.last
	CLiente.first
	CLiente.count

	cliente=CLiente.find(1)
	cliente.name="Vandreh Esmeraldo"
	cliente.save

	cliente=CLiente.find(2)
	cliente.update(name:"Gabriela Neira")

	c=CLiente.find_by(name:"Amanda02")
	c.destroy

	exit

git add .
git status
git commit -m "Criando model CLiente"
git push heroku master
heroku run rake db:migrate


Aula 05
git add .
git status
git commit -m "Retira hardcoded do controller e ajusta a view"
git push heroku master
heroku open
heroku run console
Recipe.create(name:"Estrogonofe de carne", stuff:"1kg de carne
", calories:100)

		Etrgonofe de carne
		1kg de carne
		100
		Fil√© de frango
		1/2kg de Frango[24o
		160
		Salm√£o ao forno
		1kg de salm√£o, azeite, sal, cebola, tomate...
		90
		r=Recipe.find_by(id:2)
		r.update(stuff:"1/2kg de frango")

Aula 06 - Migracoes
rails generate migration
#rails generate migration NAME [fild[:type][:index] field[:type][:index]] [options]
		#rails g migration AddNewFieldsToCLiente prepare_mode:text cost:decimal
		rails g migration AddNewFieldsToCLiente direccion:text tipo_de_piel:text
rails g migration AddNewFieldsToRecipe prepare_mode:text cost:decimal

rake db:migrate:status
rake db:migrate
rails c
reload!
		r=CLiente.find_by( name: "Vandreh Esmeraldo")
		r.direccion="Rua Monsenhor Salazar"
		r.tipo_de_piel="Mixta"
r=Recipe.find_by(id:1)
r.prepare_mode="modo de preparo, pega o frango e coloca no forno"
r.cost=50
r.save

r=Recipe.find_by(id:2)
r.update(cost:60, prepare_mode:"Pega o frango e corta em pedacinhos e coloca no fogo")
		r=CLiente.find_by(name: "Gabriela Neira")
		r.update(direccion:"Rua Monsenhor Salazar", tipo_de_piel:"Mixta")
			#<!-- <%= number_to_currency(recipe.cost) %> -->
git add .
git status
git commit -m "Inserindo novos campos na tabela Recipe"
git push heroku master
heroku open
heroku run rake db:migrate
heroku run console
		r=CLiente.find_by( name: "Vandreh Esmeraldo")
		r.update(direccion:"Rua Monsenhor Salazar", tipo_de_piel:"Mixta")
r=Recipe.find_by(id:1)

Aula 07 - Helpers
api.rubyonrails.org pluralize truncate

rails c
helper.pluralize(3, "Cliente", "Clientes")
helper.pluralize(1, "Cliente", "Clientes")
rails c
reload!
r = CLiente.find_by(name: "Vandreh Esmeraldo")
r.inativo?
exit
git add .
git status
git commit -m "Criando Helpers"
git push heroku master
herolu open
heroku run console
CLiente.create(name: "Anthony Jefferson", DNI: "inativo")

Aula 08 Criando o show
git add .
git status
git commit -m "Criando o show"
git push heroku master
heroku open

Aula 09 Criando os links
rake routes
rails c
app.recipes_path
#app.vantecgestiona_index_path
app.recipes_url
#app.vantecgestiona_index_url
app.recipe_path(1)
git add .
git status
git commit -m "Criando link no index e no show"
git push heroku master
heroku open

Aula 10 Um pouco de ruby
rails c
2+2
"Ola mundo"
"Ola mundo".class
a = "Ola mundo"
'I\'m a ruby developer'
"I'm a ruby developer"
"Ola" + " Mundo"
nome= "Vandreh"
curso= "Ruby on Rails"
"Eu #{nome} estou fazendo o curso de #{curso} na codifike"
"Eu #{nome.upcase} estou fazendo o curso de #{curso.capitalize} na codifike"
a=123.to_s
a=123.to_i
"vandreh".object_id
:vandreh.object_id
"string".to_sym
:symbol.to_s
frutas = ['ma√ßas', 'bananas', 'laranjas']
frutas.push('Morango')
frutas[1]
frutas << 2
frutas.insert(2,"kiwi")
frutas.pop #elimina o ultimo elemento
frutas.delete('kiwi')
frutas.size
frutas.length
frutas.first
frutas.last
frutas.empty?
frutas.include?('morango')
num=[1,2,2,3,4,5,5,5]
num.uniq
frutas.each{|f| puts f, ' '}
frutas.each{|f| puts f}

	frutas.each do |f|
		print f, ' '
	end

frutas.join
frutas.join('-')
cliente={nome:"Vandreh", idade:38}
print cliente[:nome]
cliente[:nome]='Gabriela' #alterar o valor

cliente.each{|k, v| puts "Chave #{k} pertence ao valor #{v}"}

	cliente.each do |k,v|
		puts "Chave #{k} pertence ao valor #{v}"
	end

cliente.empty?
cliente.has_key?(:nome)
cliente.has_value?('vandreh')
cliente.length
cliente.delete(:nome)
(0..5).to_a
def maior(num)
	if num > 10
		puts "maior que 10"
	else
		puts "menor que 10"
	end
end
maior(5)
maior(20)

Aula 11 Formul√°rios de Edi√ß√£o
git add .
git status
git commit -m "Criando form de edi√ß√£o"
git push heroku master
heroku open

Aula 12 Formulario de cria√ß√£o
git add .
git status
git commit -m "Criando form de cria√ß√£o"
git push heroku master
heroku open

Aula 13 Deletendo receitas
git add .
git status
git commit -m "Deletando receita"
git push heroku master
heroku open

Aula 14 Partials
git add .
git status
git commit -m "Usando partial na view edit e new receita"
git push heroku master
heroku open

Aula 15 FIltros customizados
rails c
Recipe
Recipe.count
Recipe.all
Recipe.order('created_at asc')
Recipe.order('created_at desc')
Recipe.find(1)
Recipe.where('calories < 100')
Recipe.where('calories < ?', 100)
Recipe .where('created_at < ?', Time.now)
Recipe.where('calories > 100').order('created_at desc')

git add .
git status
git commit -m "Criando filtros customizados"
git push heroku master
heroku open

Aula 16 Novas migra√ß√µes
rails g migration AddFieldsToRecipe kind:string portion:string duration:datetime poster:string
rake db:migrate
#desfazer a ultima migra√ß√£o: rake db:rollback
rake db:migrate:status
rake db:migrate
rake db:migrate:status

#Quem tentar sobrescrever o db hoje precisa usar a variavel DISABLE_DATABASE_ENVIRONMENT_CHECK=1 depois do comando sen√£o o heroku vai avisar que vc ta tentando apagar o banco de dados em produ√ß√£o o que √© perigoso caso voc√™ esteja usando isso no trabalho. Mas em um projeto para aprender √© ok.

rake db:seed

#Recipe Load (0.4ms)  SELECT "recipes".* FROM "recipes" /* loading for inspect */ LIMIT ?  [["LIMIT", 11]]
=> #<ActiveRecord::Relation [#<Recipe id: 1, name: "Estrogonofe de carne", stuff: "1kg de carne,\r\nverduras", calories: 100, created_at: "2021-07-04 03:27:16.370489000 +0000", updated_at: "2021-09-26 04:31:47.621458000 +0000", prepare_mode: "Pega a carne e coloca no forno", cost: 0.45e2, kind: nil, portion: nil, duration: nil, poster: nil>, #<Recipe id: 2, name: "Fil√© de frango", stuff: "1/2kg de Frango", calories: 160, created_at: "2021-07-04 03:30:31.455556000 +0000", updated_at: "2021-07-05 04:22:23.548600000 +0000", prepare_mode: "Pega o frango e corta em pedacinhos e coloca no fo...", cost: 0.6e2, kind: nil, portion: nil, duration: nil, poster: nil>, #<Recipe id: 3, name: "Salm√£o ao forno", stuff: "1 salm√£o", calories: 90, created_at: "2021-07-04 03:32:23.353872000 +0000", updated_at: "2021-09-30 05:24:55.059847000 +0000", prepare_mode: "coloca o salmao no formono", cost: 0.8e2, kind: nil, portion: nil, duration: nil, poster: nil>, #<Recipe id: 4, name: "Fettuccine", stuff: "Fettuccine is a type of pasta popular in Roman and...", calories: 280, created_at: "2021-09-26 10:08:11.435492000 +0000", updated_at: "2021-09-26 10:08:25.792094000 +0000", prepare_mode: "It is descended from the extremely thin capelli d'...", cost: 0.12e3, kind: nil, portion: nil, duration: nil, poster: nil>, #<Recipe id: 6, name: "Bai√£o de Dois", stuff: "arroz\r\nfeij√£o\r\nqueijo", calories: 150, created_at: "2021-09-27 04:50:03.784523000 +0000", updated_at: "2021-09-27 04:50:20.301088000 +0000", prepare_mode: "Mistura tudo na panela!", cost: 0.5e1, kind: nil, portion: nil, duration: nil, poster: nil>, #<Recipe id: 7, name: "Estrogonofe de carne", stuff: "1 kg de carne, 3 cebolas, sal e pimenta a gosto, 1...", calories: 110, created_at: "2021-09-30 07:01:55.935317000 +0000", updated_at: "2021-09-30 07:01:55.935317000 +0000", prepare_mode: "Em uma panela, adicione √≥leo, a carne, os tomates,...", cost: 0.5e2, kind: "Carnes", portion: "5", duration: "2016-05-06 00:40:00.000000000 +0000", poster: "estrogonofe-de-carne.jpg">, #<Recipe id: 8, name: "Fil√© de frango a parmegiana", stuff: "1/2 kg de file de frango...", calories: 160, created_at: "2021-09-30 07:01:55.960656000 +0000", updated_at: "2021-09-30 07:01:55.960656000 +0000", prepare_mode: "Tempere tudo e coloque na panela que vai ficar gos...", cost: 0.4e2, kind: "Aves", portion: "8", duration: "2016-05-06 00:35:00.000000000 +0000", poster: "file-de-frango-aparmegiana.jpg">]>

seed.rb
# This file should contain all the record creation needed to seed the database with its default values.
# The data can then be loaded with the bin/rails db:seed command (or created alongside the database with db:setup).
#
# Examples:
#
#   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])
#   Character.create(name: 'Luke', movie: movies.first)
Recipe.create!([
	{
		name: "Estrogonofe de carne",
		stuff: "1 kg de carne, 3 cebolas, sal e pimenta a gosto, 1 latas de creme de leite, 2 colheres (sopa)...",
		calories: 110,
		kind: "Carnes",
		prepare_mode: "Em uma panela, adicione √≥leo, a carne, os tomates, o caldo de carne e deixe cozinhar por...",
		portion: "5",
		duration: "2016-05-06 00:40:00",
		cost: 50.00,
		poster: "estrogonofe-de-carne.jpg"
	},
	{
		name: "Fil√© de frango a parmegiana",
		stuff: "1/2 kg de file de frango...",
		calories: 160,
		kind: "Aves",
		prepare_mode: "Tempere tudo e coloque na panela que vai ficar gostoso",
		portion: "8",
		duration: "2016-05-06 0:35:00",
		cost: 40.00,
		poster: "file-de-frango-aparmegiana.jpg",
	},
	{
		name: "Salm√£o ao forno", 
		stuff: "1 salm√£o", 
		calories: 90,
		kind: "Carnes",
		prepare_mode: "coloca o salmao no formono", 
		portion: "5",
		duration: "2016-05-06 00:40:00",
		cost: 50.00,
		poster: "estrogonofe-de-carne.jpg"
	},
	{
		name: "Fettuccine", 
		stuff: "Fettuccine is a type of pasta popular in Roman and...", 
		calories: 280, 
		kind: "Pastas",
		prepare_mode: "It is descended from the extremely thin capelli d'...", 
		portion: "5",
		duration: "2016-05-06 00:40:00",
		cost: 50.00,
		poster: "estrogonofe-de-carne.jpg"
	},
	{
		name: "Bai√£o de Dois", 
		stuff: "arroz, feij√£o e queijo", 
		calories: 150,
		kind: "Cearense",
		prepare_mode: "Mistura tudo na panela!", 
		portion: "5",
		duration: "2016-05-06 00:40:00",
		cost: 50.00,
		poster: "estrogonofe-de-carne.jpg"
	},
])

rake db:reset
rake db:schema:load db:seed

Arquivo Gemfile
gem 'rails_12factor'

bundle install --without production

config environments production.rb
config.assets.compile = true

git add .
git status
git commit -m "Criando novos campos"
git push heroku master
heroku run rake db:schema:load db:seed
heroku open


